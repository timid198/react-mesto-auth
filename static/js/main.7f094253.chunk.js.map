{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/CardDeletePopup.js","components/Spinner/Spinner.js","components/AuthForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/mestoAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","mail","handleLogout","handleLinkClick","headerLink","headerLinkText","className","onClick","type","to","CurrentUserContext","React","createContext","Card","card","cardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","deleteCard","avatar","about","map","item","Footer","Date","getFullYear","ImagePopup","onClose","closeOverlay","api","address","token","groupID","this","_address","_token","_groupID","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkPromise","data","method","body","JSON","stringify","id","response","resolve","isLike","PopupWithForm","title","buttonText","isOpen","onSubmit","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setTitle","setLink","CardDeletePopup","Spinner","isLoading","AuthForm","handleChange","email","password","Login","handleLogin","setData","Register","handleRegister","clear","console","log","ProtectedRoute","Component","component","props","InfoTooltip","content","imageSrc","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","closeAllPopups","setIsInfoToolTip","setCurrentUser","setCards","setLoading","all","getUserData","getCards","userData","cardsData","catch","err","finally","setLoggedIn","userEmail","setUserEmail","history","useHistory","jwt","localStorage","getItem","error","checkToken","isInfoTooltip","contentInfotooltip","setContentInfoTooltip","setHeaderLink","isHeaderLinkText","setIsHeaderLinkText","evt","currentTarget","handleEsc","event","key","window","addEventListener","removeEventListener","Provider","removeItem","push","path","mestoAuth","setItem","exact","element","changeCardsLikes","newCard","state","c","pushUserData","changeAvatar","pushAddCardData","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f094253.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header({ loggedIn, mail, handleLogout, handleLinkClick, headerLink, headerLinkText }) {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__logo\">\r\n            </div>\r\n            <ul className=\"header__menu\">\r\n                <li className=\"header__mail\">{mail}</li>\r\n                <li>{loggedIn ? <button onClick={handleLogout} type=\"button\" className=\"header__button\">Выйти</button> : <Link onClick={handleLinkClick} className=\"header__link\" to={headerLink} >{headerLinkText}</Link>}</li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext('');","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, cardClick, onCardDelete, onCardLike }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__trash ${isOwn ? 'element__trash_set' : 'element__trash_unset'}`\r\n  ); \r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__title-like ${isLiked ? 'element__title-like_unset' : 'element__title-like_set'}`\r\n  ); \r\n\r\n  function handleClick() {\r\n    cardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img src={card.link} alt={card.name} className=\"element__image\" onClick={handleClick} />\r\n      <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n      <p className=\"element__title-counter\">{card.likes.length}</p>\r\n      <div className=\"element__title\">\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n        <h2 className=\"element__title-text\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, deleteCard, cards, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext); \r\n  \r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__content\">\r\n          <div className=\"profile__image\">\r\n            <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n            <button type=\"button\" className=\"profile__overlay\" onClick={onEditAvatar}></button>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__info-title\"><h2 className=\"profile__visitor-name\">{currentUser.name}</h2><button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button></div>\r\n            <p className=\"profile__visitor-attribute\">{currentUser.about}</p>\r\n          </div>\r\n          <div className=\"profile__add\">\r\n            <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map((item) => (<Card key={item._id} card={item} cardClick={onCardClick} onCardDelete={onCardDelete} onCardLike={onCardLike} />))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <article className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</article>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose, closeOverlay }) {\r\n\r\n  const className = `popup ${card.link ? 'popup_opened' : ''}`;\r\n  \r\n  return (\r\n    <div className={className}  onClick={closeOverlay}>\r\n      <div className=\"popup__window popup-view__window\">\r\n        <button type=\"reset\" className=\"popup__close popup-view__close\" onClick={onClose}></button>\r\n        <div className=\"popup-view__form\">\r\n          <img src={card.link} alt={card.name} className=\"popup-view__image\" />\r\n          <h2 className=\"popup-view__title\">{card.name}</h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor({ address, token, groupID }) {\r\n        this._address = address;\r\n        this._token = token;\r\n        this._groupID = groupID;\r\n    }\r\n\r\n\r\n    _checkPromise(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards`, {\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me`, {\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    pushUserData(data) {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: `${data.name}`,\r\n                about: `${data.about}`,\r\n            })\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    pushAddCardData(data) {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: `${data.name}`,\r\n                link: `${data.link}`,\r\n            })\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(response => response.ok\r\n                ? Promise.resolve('sucsess')\r\n                : Promise.reject(`Ошибка ${response.status}`))\r\n    }\r\n\r\n    changeCardsLikes(id, isLike) {\r\n        const status = isLike ? 'DELETE' : 'PUT';\r\n        return fetch(`${this._address}v1/${this._groupID}/cards/likes/${id}`, {\r\n            method: status,\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    changeAvatar(avatar) {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: `${avatar}`\r\n            })\r\n        }\r\n        )\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/',\r\n    token: '4f64f170-2de3-4b0f-8592-8133023e0f4d',\r\n    groupID: 'cohort-22',\r\n  })\r\n\r\nexport default api;","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonText, isOpen, onClose, onSubmit, children, closeOverlay }) {\r\n\r\n  const className = `popup popup-${name} ${isOpen ? 'popup_opened' : ''}`;\r\n\r\n  return (\r\n    <div className={className} onClick={closeOverlay}>\r\n      <div className={`popup__window popup-${name}__window`}>\r\n        <button type=\"reset\" className={`popup__close popup-${name}__close`} onClick={onClose}></button>\r\n        <h2 className={`popup__title popup-${name}__title`}>{title}</h2>\r\n        <form className={`popup__form popup-${name}__form`} onSubmit={onSubmit}>\r\n          {children}\r\n          <button type=\"submit\" className={`popup__button popup-${name}__button`}>{buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, closeOverlay}) {\r\n\r\nconst [name, setName] = React.useState('');\r\nconst [description, setDescription] = React.useState('');\r\n\r\nconst currentUser = React.useContext(CurrentUserContext);\r\n\r\nReact.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]); \r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} closeOverlay={closeOverlay} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\" value={name} onChange={handleChangeName} name=\"name\" className=\"popup__input popup__input_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n                <span className=\"popup__error popup__error_name\" id=\"name-error\"> </span>\r\n              </section>\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\"  value={description} onChange={handleChangeDescription} name=\"about\" className=\"popup__input popup__input_about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n                <span className=\"popup__error popup__error_about\" id=\"about-error\"> </span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, closeOverlay}) {\r\n\r\n    const avatarRef = React.useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n        avatarRef.current.value = '';\r\n    } \r\n\r\n    return(\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} closeOverlay={closeOverlay} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"url\" ref={avatarRef} name=\"avatar\" className=\"popup__input popup__input_avatar\" placeholder=\"Ссылка на аватар\" required />\r\n                <span className=\"popup__error popup__error_avatar\" id=\"avatar-error\"> </span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace, closeOverlay}) {\r\n\r\n    const [title, setTitle] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setTitle('');\r\n        setLink('');\r\n      }, [isOpen]); \r\n\r\n    function handleChangeTitle(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: title,\r\n            link,\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" title=\"Новое место\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} closeOverlay={closeOverlay} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\" name=\"title\" value={title} onChange={handleChangeTitle} className=\"popup__input popup__input_title\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n                <span className=\"popup__error popup__error_title\" id=\"title-error\"></span>\r\n              </section>\r\n              <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" value={link} onChange={handleChangeLink} className=\"popup__input popup__input_link\" placeholder=\"Ссылка на картинку\" required />\r\n                <span className=\"popup__error popup__error_link\" id=\"link-error\"></span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction CardDeletePopup({isOpen, onClose, onCardDelete, closeOverlay}) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();      \r\n        onCardDelete({\r\n          _id: isOpen,\r\n        });\r\n    } \r\n\r\n    return(\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" buttonText=\"Да\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} closeOverlay={closeOverlay} />\r\n    )\r\n}\r\n\r\nexport default CardDeletePopup;","import React from 'react'\nimport './Spinner.css'\n\nfunction Spinner({isLoading}){\n\n    \n    return (\n        <div className=\"spinner\"></div>\n    )\n}\nexport default Spinner;","import React from 'react';\r\n\r\nfunction AuthForm({data, handleChange}) {\r\n    return (\r\n        <fieldset className=\"login__fieldset\">\r\n            <input value={data.email} onChange={handleChange} type=\"email\" name=\"email\" className=\"login__input login__input_email\" placeholder=\"Email\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"login__error login__error_email\" id=\"email-error\"> </span>\r\n            <input value={data.password} onChange={handleChange} type=\"password\" name=\"password\" className=\"login__input login__input_password\" placeholder=\"Пароль\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"login__error login__error_password\" id=\"password-error\"> </span>\r\n        </fieldset>\r\n    )\r\n}\r\n\r\nexport default AuthForm;","import React, { useState } from 'react';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login({handleLogin}) {\r\n\r\n    const [data, setData] = useState({\r\n        password: '',\r\n        email: '',\r\n    })\r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target;\r\n        setData({...data, [name]: value})\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (!data.password || !data.email) {\r\n            return\r\n        }\r\n        const { password, email } = data;\r\n        handleLogin({password, email});\r\n    }\r\n    return(\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Вход</h2>\r\n            <form onSubmit={handleSubmit} className=\"login__form\">\r\n                <AuthForm data={data} handleChange={handleChange} />\r\n                <button type=\"submit\" className=\"login__button\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register({handleRegister, clear}) {\r\n\r\n    const [data, setData] = useState({\r\n        password: '',\r\n        email: '',\r\n    })\r\n\r\n    React.useEffect(() => {\r\n        setData({password: '', email: ''})\r\n      }, [clear]); \r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target;\r\n        setData({...data, [name]: value})\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        let { password, email } = data;\r\n        console.log(password, email)\r\n        handleRegister({password, email})\r\n    }\r\n\r\n    return(\r\n        <div className=\"register\">\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <form onSubmit={handleSubmit} className=\"register__form\">\r\n                <AuthForm data={data} handleChange={handleChange} />    \r\n                <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n            </form>\r\n            <p className=\"register__content\">Уже зарегистрированы? <Link className=\"register__link\" to=\"/sign-in\">Войти</Link></p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\n\r\nfunction InfoTooltip({ isOpen, content, onClose, closeOverlay }) {\r\n\r\n    const className = `popup ${isOpen ? 'popup_opened' : ''}`;\r\n    const imageSrc = `${content ? 'popup-infotooltip__image-sucсess' : 'popup-infotooltip__image-failed'}`\r\n    const title = `${content ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`\r\n\r\n    return(\r\n        <div className={className} onClick={closeOverlay}>\r\n            <div className=\"popup__window popup-infotooltip\">\r\n                <button type=\"reset\" className=\"popup__close popup-infotooltip__close\" onClick={onClose} />\r\n                <div className={imageSrc} />\r\n                <h2 className=\"popup-infotooltip__title\">{title}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co/';\r\n\r\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject();\r\n\r\nexport const register = (password, email) => {\r\n    return fetch (`${BASE_URL}signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'},\r\n        body: JSON.stringify({password, email})\r\n    })\r\n    .then(checkResponse);\r\n}\r\n\r\nexport const authorize = (password, email) => {\r\n    return fetch (`${BASE_URL}signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'},\r\n        body: JSON.stringify({password, email})\r\n    })\r\n    .then(checkResponse);\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch (`${BASE_URL}users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization' : `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(checkResponse);\r\n}","import React, {useState, useEffect} from 'react';\nimport { Route, Switch, Redirect, withRouter, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport CardDeletePopup from './CardDeletePopup';\nimport Spinner from './Spinner/Spinner';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as mestoAuth from '../utils/mestoAuth';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const [cardToDelete, setCardToDelete] = React.useState({});\n\n  function handleDeleteCard(card) {\n    setCardToDelete(card);\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  function handleCardClick(element) {\n    setSelectedCard(element);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setCardToDelete({});\n    setSelectedCard({});\n    setIsInfoToolTip(false);\n  }\n\n  const [currentUser, setCurrentUser] = useState( {name: '', about: '', avatar: '', _id: ''} );\n  const [cards, setCards] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true)\n    Promise.all([api.getUserData(), api.getCards()])\n      .then(res => {\n        const [userData, cardsData] = res;\n        setCurrentUser(userData);\n        setCards(cardsData);}) \n      .catch((err) => console.log(err))\n      .finally(() => {setLoading(false)})\n  }, [])\n\nfunction handleUpdateUser(props) {\n  setLoading(true)\n  api.pushUserData(props)\n  .then(res => {\n    setCurrentUser(res);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n}\n\nfunction handleUpdateAvatar(props) {\n  setLoading(true)\n  api.changeAvatar(props.avatar)\n  .then(res => {\n    setCurrentUser(res);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n  }\n  \n  function handleCardLike(card) {\n    setLoading(true)\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeCardsLikes(card._id, isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));})\n    .catch((err) => console.log(err))\n    .finally(() => {setLoading(false)});\n} \n\nfunction handleCardDelete(card) {\n  setLoading(true)\n  api.deleteCard(card._id)\n  .then((newCard) => {\n    setCards((state) => state.filter((c) => c._id === card._id ? !newCard : c));\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n} \n\nfunction handleAddPlaceSubmit(props) {\n  setLoading(true)\n  api.pushAddCardData(props)\n  .then(res => {\n    setCards([res, ...cards]);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n}\n\n// 12 спринт\n\nconst [loggedIn, setLoggedIn] = useState(false);\nconst [userEmail, setUserEmail] = useState('');\nconst history = useHistory();\n\nuseEffect(() =>{\n  checkToken();\n}, [loggedIn]);\n\nuseEffect(() =>{\n  if (loggedIn) {\n    <Redirect to=\"/\" />;\n  }\n}, [loggedIn]);\n\nconst [isInfoTooltip, setIsInfoToolTip] = useState(false);\nconst [contentInfotooltip, setContentInfoTooltip] = useState(false);\n\nfunction handleRegister({password, email}) {\n  mestoAuth.register(password, email)\n  .then(data => {\n    setIsInfoToolTip(true);\n    setContentInfoTooltip(true);\n  })\n  .catch(err => {\n    console.error(err);\n    setIsInfoToolTip(true);\n    setContentInfoTooltip(false);\n  })\n}\n\nfunction handleLogin({password, email}) {\n  mestoAuth.authorize(password, email)\n  .then(data => {\n    if (data.token) {\n      setLoggedIn(true);\n      localStorage.setItem('jwt', data.token);\n      history.push('/');\n    }\n  })\n  .catch(err => {\n    console.error(err);\n    setUserEmail('');\n    setIsInfoToolTip(true);\n    setContentInfoTooltip(false);\n  })\n}\n\nfunction checkToken() {\n  const jwt = localStorage.getItem('jwt');\n  if (jwt) {\n  mestoAuth.getContent(jwt)\n  .then(data => {\n    if (data.data.email) {\n      setUserEmail(data.data.email);\n      setLoggedIn(true);\n    }\n  })\n  .catch(err => console.error(err))\n  }\n}\n\nfunction handleLogout() {\n  setUserEmail('');\n  setLoggedIn(false);\n  localStorage.removeItem('jwt');\n  history.push('/sign-in');\n}\n\nconst [headerLink, setHeaderLink] = useState('/sign-up');\nconst [isHeaderLinkText, setIsHeaderLinkText] = useState('Регистрация');\n\nfunction handleLinkClick() {\n  if (headerLink === '/sign-up') {\n    setHeaderLink('/sign-in');\n    setIsHeaderLinkText('Войти');\n  } else {\n    setHeaderLink('/sign-up');\n    setIsHeaderLinkText('Регистрация');\n  }\n}\n\nfunction closeOverlay(evt){\n  if(evt.target === evt.currentTarget){\n    closeAllPopups()\n  }\n}\n\nuseEffect(() => {\n  const handleEsc = (event) => {\n      if (event.key === 'Escape') \n      closeAllPopups();\n  };\n  window.addEventListener('keydown', handleEsc);\n\n  return () => {\n      window.removeEventListener('keydown', handleEsc);\n  };\n}, []);\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>      \n        <div className=\"App\">\n          <div className=\"page\">\n          \n            <Header loggedIn={loggedIn} handleLogout={handleLogout} mail={userEmail} handleLinkClick={handleLinkClick} headerLink={headerLink} headerLinkText={isHeaderLinkText} />\n            { isLoading ? <Spinner /> : '' }\n            <Switch >\n              <Route path=\"/sign-up\">\n                <Register handleRegister={handleRegister} clear={isInfoTooltip} />\n              </Route>\n              <Route path=\"/sign-in\">\n                <Login handleLogin={handleLogin} />\n              </Route>\n              <ProtectedRoute exact path=\"/\" component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} onCardDelete={handleDeleteCard} cards={cards} onCardLike={handleCardLike} loggedIn={loggedIn} />\n              <Route>\n                  {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n              </Route>\n            </Switch>\n            \n            <Footer />\n\n            <InfoTooltip isOpen={isInfoTooltip} content={contentInfotooltip} onClose={closeAllPopups} closeOverlay={closeOverlay} />\n            \n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} closeOverlay={closeOverlay} />\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} closeOverlay={closeOverlay} /> \n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} closeOverlay={closeOverlay} /> \n            <CardDeletePopup isOpen={cardToDelete._id} onClose={closeAllPopups} onCardDelete={handleCardDelete} closeOverlay={closeOverlay} />\n\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} closeOverlay={closeOverlay} />\n\n          </div>\n        </div>      \n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}